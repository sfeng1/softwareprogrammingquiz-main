<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Software Programming Quiz</title>

        <link rel="stylesheet" href="./css/account-profile.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	</head>
    
	<body>
        <!-- Nav Bar -->
		<div class="header">
			<h1>Software Programming Quiz</h1>
		</div>
            <div class="col-2 menu">
                <div>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/login">Login</a></li>
                    </ul>
                </div>
            </div>
        
        <rowbox>
        <!-- Account Form -->
		<div class="account">
            
			<h1>Register Your Account</h1>

			<form name ="create_acct" action="/create_acct"  method="post">
				
                <!-- username -->
                <rowbox>
                <label for="username">Login Username* </label>
				<input type="text" name="username" placeholder="Max 50 Characters" id="username" required>
                </rowbox>
 
                <!-- password -->
                <rowbox>
                <label for="password">Login Password*</label>
				<input type="password" name="password" placeholder="Max 30 Characters" id="password" required>
                </rowbox>

                <!-- account email -->
                <rowbox>
                    <label for="acctmail">Contact Email*</label>
                    <input type="email" name="acctmail" placeholder="Max 30 Characters" id="acctmail" required>
                </rowbox>

                <!-- account owner name -->
                <rowbox>
                    <label for="acctname">Account Owner Full Name</label>
                    <input type="text" name="acctname" placeholder="Max 30 Characters" id="acctname">
                </rowbox>

                <!-- state -->
                <rowbox>
                    <label for="acctstate"> State of Business </label>
                    <select name="acctstate" id="acctstate">
                        <option value="NA">Not Disclosed</option>
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District Of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                        <option value="NN">Outside the US</option>
                    </select>
                </rowbox>

                <!-- security question -->
                <rowbox>
                    <label for="acctques"> Security Question* </label>
                    <select name="acctques" id="acctques" required>
                        <option value="What's Your First Pet's Name?">First Pet Name?</option>
                        <option value="What's Middle School's Name?">Middle School Name?</option>
                        <option value="What's the Model of Your First Car?">First Car Model?</option>
                    </select>   
                </rowbox>

                <!-- security answer -->
                <rowbox>
                    <label for="acctans">Security Answer*</label>
                    <input type="text" name="acctans" placeholder="Max 50 Characters" id="acctans" required>
                </rowbox>

                <!-- error message display-->                
                <span id="createError" style="color:red"></span>

                <!-- submit -->
                <input type="submit" value="Create Account">
			</form>
		</div>
    </rowbox>
	</body>

    <!-- display error messages that are passed in URL parameters -->
    <script>
        const currentUrl = window.location.search; // current URL
        const urlParams = new URLSearchParams(currentUrl); // URL parameters
        let err_code = urlParams.get('error'); // isolate error value 
        const div = document.getElementById("createError");
        switch (err_code) { 
                case "username":
                    div.innerHTML = "Username already registered!";
                    break;
                  
                case "email":
                    div.innerHTML = "Email already registered!";
                    break;

                case "fill":
                    div.innerHTML = "Please fill required fields!";
                    break;

              // add more error messages here

                default:
                    div.innerHTML = "";
                    break;
        };
    </script>
</html>
